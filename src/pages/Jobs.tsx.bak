import Navbar from "@/components/Navbar";
import Footer from "@/components/Footer";
import { Input } from "@/components/ui/input";
import { Select, SelectTrigger, SelectValue, SelectContent, SelectItem } from "@/components/ui/select";
import { useState } from "react";

// Mock data
const jobs = [
  { id: 1, title: "Développeur React", city: "Brazzaville", company: "TechCongo", type: "CDI" },
  { id: 2, title: "Chargé de communication", city: "Pointe-Noire", company: "ONG Espoir", type: "CDD" },
  { id: 3, title: "Data Analyst", city: "Brazzaville", company: "Banque Centrale", type: "Stage" },
  { id: 4, title: "Formateur numérique", city: "Dolisie", company: "Mosala", type: "CDI" },
];

const cities = ["Toutes", "Brazzaville", "Pointe-Noire", "Dolisie"];

const Jobs = () => {
  const [search, setSearch] = useState("");
  const [city, setCity] = useState("Toutes");

  const filteredJobs = jobs.filter(job =>
    (city === "Toutes" || job.city === city) &&
    (job.title.toLowerCase().includes(search.toLowerCase()) || job.company.toLowerCase().includes(search.toLowerCase()))
  );

  return (
    <div className="min-h-screen bg-background flex flex-col">
      <Navbar />
      <main className="flex-1 container mx-auto px-4 py-12">
        <h1 className="text-3xl font-bold mb-8 text-mosala-dark">Offres d'emploi</h1>
        <div className="flex flex-col md:flex-row gap-4 mb-8">
          <Input
            placeholder="Rechercher un poste, une entreprise..."
            value={search}
            onChange={e => setSearch(e.target.value)}
            className="md:w-1/2"
          />
          <Select value={city} onValueChange={setCity}>
            <SelectTrigger className="md:w-1/4">
              <SelectValue placeholder="Ville" />
            </SelectTrigger>
            <SelectContent>
              {cities.map(c => (
                <SelectItem key={c} value={c}>{c}</SelectItem>
              ))}
            </SelectContent>
          </Select>
        </div>
        <div className="bg-white rounded-xl shadow-lg border border-border overflow-x-auto">
          <table className="w-full">
            <thead className="bg-gradient-primary text-white">
              <tr>
                <th className="p-4 text-left">Poste</th>
                <th className="p-4 text-left">Entreprise</th>
                <th className="p-4 text-left">Ville</th>
                <th className="p-4 text-left">Type</th>
              </tr>
            </thead>
            <tbody>
              {filteredJobs.length === 0 ? (
                <tr>
                  <td colSpan={4} className="p-6 text-center text-muted-foreground">Aucune offre trouvée.</td>
                </tr>
              ) : (
                filteredJobs.map(job => (
                  <tr key={job.id} className="border-b last:border-0">
                    <td className="p-4 font-medium text-mosala-dark">{job.title}</td>
                    <td className="p-4">{job.company}</td>
                    <td className="p-4">{job.city}</td>
                    <td className="p-4">{job.type}</td>
                  </tr>
                ))
              )}
            </tbody>
          </table>
        </div>
      </main>
      <Footer />
    </div>
  );
};

export default Jobs; 